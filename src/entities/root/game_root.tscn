[gd_scene load_steps=20 format=3 uid="uid://pgudwlq5efn0"]

[ext_resource type="Material" uid="uid://cp2te8i2ckj5o" path="res://src/materials/black_square.tres" id="2_n38sr"]
[ext_resource type="Material" uid="uid://dwgngqcfvi3s4" path="res://src/materials/red_square.tres" id="3_k6g81"]
[ext_resource type="Script" uid="uid://db8dybniui1jv" path="res://src/systems/network/RemotePlayerManager.cs" id="4_3h70o"]
[ext_resource type="PackedScene" uid="uid://ct07rpph3wvww" path="res://src/entities/vehicle/car/player_car.tscn" id="6_awmje"]
[ext_resource type="PackedScene" uid="uid://c7m8fswqpshy4" path="res://src/systems/ui/pause_menu.tscn" id="7_liv0r"]
[ext_resource type="PackedScene" uid="uid://ch2s1v2av6f0p" path="res://src/systems/ui/options_menu.tscn" id="8_njg2t"]
[ext_resource type="PackedScene" uid="uid://cukaeucupjo2e" path="res://src/systems/ui/debug_ui_controller.tscn" id="9_73xoc"]
[ext_resource type="PackedScene" uid="uid://bp5wletrm4dw2" path="res://src/entities/player/foot/foot_player.tscn" id="10_foot"]
[ext_resource type="Script" uid="uid://dw3owa0i2p1f2" path="res://src/entities/player/PlayerWrapper.cs" id="11_pwrap"]
[ext_resource type="Script" uid="uid://c3b5xve2kalg" path="res://src/systems/network/RemoteFootPlayerManager.cs" id="12_rfoot"]
[ext_resource type="PackedScene" uid="uid://dqsjudt64pb3u" path="res://src/entities/building/building_1/skyscraper_1.tscn" id="14_886vf"]
[ext_resource type="PackedScene" uid="uid://c68mijg2v2wkf" path="res://src/entities/jump_pad/jump_pad.tscn" id="15_l2d1b"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_liv0r"]
sky_top_color = Color(0.53064, 0.646875, 0.808594, 1)
sky_horizon_color = Color(0.611765, 0.694118, 0.827451, 1)
ground_bottom_color = Color(0.652344, 0.652344, 0.652344, 1)
ground_horizon_color = Color(0.611389, 0.695429, 0.828125, 1)

[sub_resource type="Sky" id="Sky_njg2t"]
sky_material = SubResource("ProceduralSkyMaterial_liv0r")

[sub_resource type="Environment" id="Environment_k6g81"]
background_mode = 2
sky = SubResource("Sky_njg2t")
tonemap_mode = 1

[sub_resource type="Curve3D" id="Curve3D_qm2o8"]
closed = true
bake_interval = 0.01
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -51.154, 0, -36.803, 0, 0, 0, 0, 0, 0, -127.164, 0, -66.987, 0, 0, 0, -17.69, 0, 0, -197.889, 0, -71.389, 0, 0, 0, 4.31, 0, 0, -211.729, 0, -14.274, 0, 0, 0, 0, 0, 0, -69.784, 0, 58.398, 0, 0, 0, 0, 0, 0, 122.756, 0, 109.573, 0, 0, 0, 0, 0, 0, 219.254, 0, 79.488, 0, 0, 0, 0, 0, 0, 153.255, 0, 21.216, 35.04, 0, 0, -13.79, 0, 0, 96.962, 0, 1.608, 0, 0, 0, -12, 0, 0, 45.9237, 14.7709, 3.8857),
"tilts": PackedFloat32Array(0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.32)
}
point_count = 11

[sub_resource type="BoxMesh" id="BoxMesh_2bu5k"]
size = Vector3(0.1, 5, 300)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_2bu5k"]
points = PackedVector3Array(-0.05, -2.5, -150, 0.05, -2.5, -150, -0.05, -2.5, 150, -0.05, 2.5, -150, 0.05, 2.5, -150, 0.05, -2.5, 150, -0.05, 2.5, 150, 0.05, 2.5, 150)

[sub_resource type="Curve3D" id="Curve3D_2bu5k"]
_data = {
"points": PackedVector3Array(0, 0, 0, 0, 0, 0, 0, 20, 0, -15.518671, -4.145767, -27.06517, 15.518671, 4.145767, 27.06517, -23.448, 0, 71.109, 0, 0, 0, 0, 0, 0, -106.276, 0, 142.767),
"tilts": PackedFloat32Array(0, 0, 0)
}
point_count = 3

[node name="GameRoot" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866025, -0.433013, 0.25, 0, 0.5, 0.866025, -0.5, 0.75, -0.433013, 0, 20.3866, 0)
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="DirectionalLight3D"]
environment = SubResource("Environment_k6g81")

[node name="CSGTerrain" type="Node3D" parent="."]
metadata/_edit_group_ = true
metadata/_edit_lock_ = true

[node name="Ground" type="CSGBox3D" parent="CSGTerrain"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.25, -94.2223)
material_override = ExtResource("2_n38sr")
use_collision = true
size = Vector3(500, 0.5, 500)

[node name="RemotePlayerLabels" type="Node3D" parent="."]

[node name="RemoteFootPlayers" type="Node3D" parent="."]
script = ExtResource("12_rfoot")

[node name="RemotePlayers" type="Node3D" parent="."]
script = ExtResource("4_3h70o")

[node name="Path3D" type="Path3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.394751, -55.8006)
curve = SubResource("Curve3D_qm2o8")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Path3D"]
material_override = ExtResource("3_k6g81")
use_collision = true
polygon = PackedVector2Array(-25, 0, 25, 1, 25, 1, 25, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 0
path_interval = 1.0
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false

[node name="skyscraper1" parent="." instance=ExtResource("14_886vf")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 66.4095, -23.3205, -232.403)

[node name="JumpPad" parent="." instance=ExtResource("15_l2d1b")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.5435, 0, -51.0122)

[node name="FootPlayer" parent="." instance=ExtResource("10_foot")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 88.74045, 1.05, -114.77704)

[node name="Car" parent="." instance=ExtResource("6_awmje")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 93.4638, 2.15127, -112.403046)

[node name="PlayerWrapper" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 141.24045, 0, 30.722965)
script = ExtResource("11_pwrap")
CarPath = NodePath("../Car")
FootPath = NodePath("../FootPlayer")
CarCameraPath = NodePath("../Car/CameraPivot/Camera")

[node name="PauseMenu" parent="." instance=ExtResource("7_liv0r")]

[node name="OptionsMenu" parent="." instance=ExtResource("8_njg2t")]

[node name="DebugUI" parent="." instance=ExtResource("9_73xoc")]

[node name="CarSpawnPoint" type="Marker3D" parent="."]
transform = Transform3D(-0.5945142, 0, -0.8040851, 0, 1, 0, 0.8040851, 0, -0.5945142, 116.27646, 1.2100546, -56.801403)

[node name="Ramp" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -42.274063, 0, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Ramp"]
transform = Transform3D(0.88970345, 0.45653903, 0, -0.45653903, 0.88970345, 0, 0, 0, 1, 1.0178925, 1.9836692, 0)
mesh = SubResource("BoxMesh_2bu5k")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="Ramp"]
transform = Transform3D(0.88970345, 0.45653903, 0, -0.45653903, 0.88970345, 0, 0, 0, 1, 1.0178925, 1.9836692, 0)
shape = SubResource("ConvexPolygonShape3D_2bu5k")

[node name="Surf" type="Path3D" parent="."]
transform = Transform3D(0.99502087, -0.09966708, 0, 0.09966708, 0.99502087, 0, 0, 0, 1, 53.94768, 3.2689078, -30.311882)
curve = SubResource("Curve3D_2bu5k")

[node name="CSGPolygon3D" type="CSGPolygon3D" parent="Surf"]
use_collision = true
polygon = PackedVector2Array(0, 0, 1.0398712, 4.5954165, 1, 0)
mode = 2
path_node = NodePath("..")
path_interval_type = 1
path_interval = 0.01
path_simplify_angle = 0.0
path_rotation = 2
path_rotation_accurate = false
path_local = true
path_continuous_u = true
path_u_distance = 1.0
path_joined = false
